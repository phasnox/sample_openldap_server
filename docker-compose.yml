version: '2'

services:
  openldap:
    image: docker.io/bitnami/openldap:2.6
    ports:
      - '1389:1389'
      - '1636:1636'
    environment:
      - BITNAMI_DEBUG=true
      - LDAP_ADMIN_USERNAME=admin
      - LDAP_ADMIN_PASSWORD=adminpassword
      - LDAP_USERS=user01,user02,user03,user04,user05,user06,user07,user08,user09,user10,user11,user12,user13,user14,user15,user16,user17,user18,user19,user20,user21,user22,user23,user24,user25,user26,user27,user28,user29,user30,user31,user32,user33,user34,user35,user36,user37,user38,user39,user40,user41,user42,user43,user44,user45,user46,user47,user48,user49,user50,user51,user52,user53,user54,user55,user56,user57,user58,user59,user60,user61,user62,user63,user64,user65,user66,user67,user68,user69,user70,user71,user72,user73,user74,user75,user76,user77,user78,user79,user80,user81,user82,user83,user84,user85,user86,user87,user88,user89,user90,user91,user92,user93,user94,user95,user96,user97,user98,user99,user100,user101,user102,user103,user104,user105,user106,user107,user108,user109,user110,user111,user112,user113,user114,user115,user116,user117,user118,user119,user120,user121,user122,user123,user124,user125,user126,user127,user128,user129,user130,user131,user132,user133,user134,user135,user136,user137,user138,user139,user140,user141,user142,user143,user144,user145,user146,user147,user148,user149,user150,user151,user152,user153,user154,user155,user156,user157,user158,user159,user160,user161,user162,user163,user164,user165,user166,user167,user168,user169,user170,user171,user172,user173,user174,user175,user176,user177,user178,user179,user180,user181,user182,user183,user184,user185,user186,user187,user188,user189,user190,user191,user192,user193,user194,user195,user196,user197,user198,user199,user200,user201,user202,user203,user204,user205,user206,user207,user208,user209,user210,user211,user212,user213,user214,user215,user216,user217,user218,user219,user220,user221,user222,user223,user224,user225,user226,user227,user228,user229,user230,user231,user232,user233,user234,user235,user236,user237,user238,user239,user240,user241,user242,user243,user244,user245,user246,user247,user248,user249,user250,user251,user252,user253,user254,user255,user256,user257,user258,user259,user260,user261,user262,user263,user264,user265,user266,user267,user268,user269,user270,user271,user272,user273,user274,user275,user276,user277,user278,user279,user280,user281,user282,user283,user284,user285,user286,user287,user288,user289,user290,user291,user292,user293,user294,user295,user296,user297,user298,user299,user300,user301,user302,user303,user304,user305,user306,user307,user308,user309,user310,user311,user312,user313,user314,user315,user316,user317,user318,user319,user320,user321,user322,user323,user324,user325,user326,user327,user328,user329,user330,user331,user332,user333,user334,user335,user336,user337,user338,user339,user340,user341,user342,user343,user344,user345,user346,user347,user348,user349,user350,user351,user352,user353,user354,user355,user356,user357,user358,user359,user360,user361,user362,user363,user364,user365,user366,user367,user368,user369,user370,user371,user372,user373,user374,user375,user376,user377,user378,user379,user380,user381,user382,user383,user384,user385,user386,user387,user388,user389,user390,user391,user392,user393,user394,user395,user396,user397,user398,user399,user400,user401,user402,user403,user404,user405,user406,user407,user408,user409,user410,user411,user412,user413,user414,user415,user416,user417,user418,user419,user420,user421,user422,user423,user424,user425,user426,user427,user428,user429,user430,user431,user432,user433,user434,user435,user436,user437,user438,user439,user440,user441,user442,user443,user444,user445,user446,user447,user448,user449,user450,user451,user452,user453,user454,user455,user456,user457,user458,user459,user460,user461,user462,user463,user464,user465,user466,user467,user468,user469,user470,user471,user472,user473,user474,user475,user476,user477,user478,user479,user480,user481,user482,user483,user484,user485,user486,user487,user488,user489,user490,user491,user492,user493,user494,user495,user496,user497,user498,user499,user500,user501,user502,user503,user504,user505,user506,user507,user508,user509,user510,user511,user512,user513,user514,user515,user516,user517,user518,user519,user520,user521,user522,user523,user524,user525,user526,user527,user528,user529,user530,user531,user532,user533,user534,user535,user536,user537,user538,user539,user540,user541,user542,user543,user544,user545,user546,user547,user548,user549,user550,user551,user552,user553,user554,user555,user556,user557,user558,user559,user560,user561,user562,user563,user564,user565,user566,user567,user568,user569,user570,user571,user572,user573,user574,user575,user576,user577,user578,user579,user580,user581,user582,user583,user584,user585,user586,user587,user588,user589,user590,user591,user592,user593,user594,user595,user596,user597,user598,user599,user600,user601,user602,user603,user604,user605,user606,user607,user608,user609,user610,user611,user612,user613,user614,user615,user616,user617,user618,user619,user620,user621,user622,user623,user624,user625,user626,user627,user628,user629,user630,user631,user632,user633,user634,user635,user636,user637,user638,user639,user640,user641,user642,user643,user644,user645,user646,user647,user648,user649,user650,user651,user652,user653,user654,user655,user656,user657,user658,user659,user660,user661,user662,user663,user664,user665,user666,user667,user668,user669,user670,user671,user672,user673,user674,user675,user676,user677,user678,user679,user680,user681,user682,user683,user684,user685,user686,user687,user688,user689,user690,user691,user692,user693,user694,user695,user696,user697,user698,user699,user700,user701,user702,user703,user704,user705,user706,user707,user708,user709,user710,user711,user712,user713,user714,user715,user716,user717,user718,user719,user720,user721,user722,user723,user724,user725,user726,user727,user728,user729,user730,user731,user732,user733,user734,user735,user736,user737,user738,user739,user740,user741,user742,user743,user744,user745,user746,user747,user748,user749,user750,user751,user752,user753,user754,user755,user756,user757,user758,user759,user760,user761,user762,user763,user764,user765,user766,user767,user768,user769,user770,user771,user772,user773,user774,user775,user776,user777,user778,user779,user780,user781,user782,user783,user784,user785,user786,user787,user788,user789,user790,user791,user792,user793,user794,user795,user796,user797,user798,user799,user800,user801,user802,user803,user804,user805,user806,user807,user808,user809,user810,user811,user812,user813,user814,user815,user816,user817,user818,user819,user820,user821,user822,user823,user824,user825,user826,user827,user828,user829,user830,user831,user832,user833,user834,user835,user836,user837,user838,user839,user840,user841,user842,user843,user844,user845,user846,user847,user848,user849,user850,user851,user852,user853,user854,user855,user856,user857,user858,user859,user860,user861,user862,user863,user864,user865,user866,user867,user868,user869,user870,user871,user872,user873,user874,user875,user876,user877,user878,user879,user880,user881,user882,user883,user884,user885,user886,user887,user888,user889,user890,user891,user892,user893,user894,user895,user896,user897,user898,user899,user900,user901,user902,user903,user904,user905,user906,user907,user908,user909,user910,user911,user912,user913,user914,user915,user916,user917,user918,user919,user920,user921,user922,user923,user924,user925,user926,user927,user928,user929,user930,user931,user932,user933,user934,user935,user936,user937,user938,user939,user940,user941,user942,user943,user944,user945,user946,user947,user948,user949,user950,user951,user952,user953,user954,user955,user956,user957,user958,user959,user960,user961,user962,user963,user964,user965,user966,user967,user968,user969,user970,user971,user972,user973,user974,user975,user976,user977,user978,user979,user980,user981,user982,user983,user984,user985,user986,user987,user988,user989,user990,user991,user992,user993,user994,user995,user996,user997,user998,user999,user1000
      - LDAP_PASSWORDS=password1,password2,password3,password4,password5,password6,password7,password8,password9,password10,password11,password12,password13,password14,password15,password16,password17,password18,password19,password20,password21,password22,password23,password24,password25,password26,password27,password28,password29,password30,password31,password32,password33,password34,password35,password36,password37,password38,password39,password40,password41,password42,password43,password44,password45,password46,password47,password48,password49,password50,password51,password52,password53,password54,password55,password56,password57,password58,password59,password60,password61,password62,password63,password64,password65,password66,password67,password68,password69,password70,password71,password72,password73,password74,password75,password76,password77,password78,password79,password80,password81,password82,password83,password84,password85,password86,password87,password88,password89,password90,password91,password92,password93,password94,password95,password96,password97,password98,password99,password100,password101,password102,password103,password104,password105,password106,password107,password108,password109,password110,password111,password112,password113,password114,password115,password116,password117,password118,password119,password120,password121,password122,password123,password124,password125,password126,password127,password128,password129,password130,password131,password132,password133,password134,password135,password136,password137,password138,password139,password140,password141,password142,password143,password144,password145,password146,password147,password148,password149,password150,password151,password152,password153,password154,password155,password156,password157,password158,password159,password160,password161,password162,password163,password164,password165,password166,password167,password168,password169,password170,password171,password172,password173,password174,password175,password176,password177,password178,password179,password180,password181,password182,password183,password184,password185,password186,password187,password188,password189,password190,password191,password192,password193,password194,password195,password196,password197,password198,password199,password200,password201,password202,password203,password204,password205,password206,password207,password208,password209,password210,password211,password212,password213,password214,password215,password216,password217,password218,password219,password220,password221,password222,password223,password224,password225,password226,password227,password228,password229,password230,password231,password232,password233,password234,password235,password236,password237,password238,password239,password240,password241,password242,password243,password244,password245,password246,password247,password248,password249,password250,password251,password252,password253,password254,password255,password256,password257,password258,password259,password260,password261,password262,password263,password264,password265,password266,password267,password268,password269,password270,password271,password272,password273,password274,password275,password276,password277,password278,password279,password280,password281,password282,password283,password284,password285,password286,password287,password288,password289,password290,password291,password292,password293,password294,password295,password296,password297,password298,password299,password300,password301,password302,password303,password304,password305,password306,password307,password308,password309,password310,password311,password312,password313,password314,password315,password316,password317,password318,password319,password320,password321,password322,password323,password324,password325,password326,password327,password328,password329,password330,password331,password332,password333,password334,password335,password336,password337,password338,password339,password340,password341,password342,password343,password344,password345,password346,password347,password348,password349,password350,password351,password352,password353,password354,password355,password356,password357,password358,password359,password360,password361,password362,password363,password364,password365,password366,password367,password368,password369,password370,password371,password372,password373,password374,password375,password376,password377,password378,password379,password380,password381,password382,password383,password384,password385,password386,password387,password388,password389,password390,password391,password392,password393,password394,password395,password396,password397,password398,password399,password400,password401,password402,password403,password404,password405,password406,password407,password408,password409,password410,password411,password412,password413,password414,password415,password416,password417,password418,password419,password420,password421,password422,password423,password424,password425,password426,password427,password428,password429,password430,password431,password432,password433,password434,password435,password436,password437,password438,password439,password440,password441,password442,password443,password444,password445,password446,password447,password448,password449,password450,password451,password452,password453,password454,password455,password456,password457,password458,password459,password460,password461,password462,password463,password464,password465,password466,password467,password468,password469,password470,password471,password472,password473,password474,password475,password476,password477,password478,password479,password480,password481,password482,password483,password484,password485,password486,password487,password488,password489,password490,password491,password492,password493,password494,password495,password496,password497,password498,password499,password500,password501,password502,password503,password504,password505,password506,password507,password508,password509,password510,password511,password512,password513,password514,password515,password516,password517,password518,password519,password520,password521,password522,password523,password524,password525,password526,password527,password528,password529,password530,password531,password532,password533,password534,password535,password536,password537,password538,password539,password540,password541,password542,password543,password544,password545,password546,password547,password548,password549,password550,password551,password552,password553,password554,password555,password556,password557,password558,password559,password560,password561,password562,password563,password564,password565,password566,password567,password568,password569,password570,password571,password572,password573,password574,password575,password576,password577,password578,password579,password580,password581,password582,password583,password584,password585,password586,password587,password588,password589,password590,password591,password592,password593,password594,password595,password596,password597,password598,password599,password600,password601,password602,password603,password604,password605,password606,password607,password608,password609,password610,password611,password612,password613,password614,password615,password616,password617,password618,password619,password620,password621,password622,password623,password624,password625,password626,password627,password628,password629,password630,password631,password632,password633,password634,password635,password636,password637,password638,password639,password640,password641,password642,password643,password644,password645,password646,password647,password648,password649,password650,password651,password652,password653,password654,password655,password656,password657,password658,password659,password660,password661,password662,password663,password664,password665,password666,password667,password668,password669,password670,password671,password672,password673,password674,password675,password676,password677,password678,password679,password680,password681,password682,password683,password684,password685,password686,password687,password688,password689,password690,password691,password692,password693,password694,password695,password696,password697,password698,password699,password700,password701,password702,password703,password704,password705,password706,password707,password708,password709,password710,password711,password712,password713,password714,password715,password716,password717,password718,password719,password720,password721,password722,password723,password724,password725,password726,password727,password728,password729,password730,password731,password732,password733,password734,password735,password736,password737,password738,password739,password740,password741,password742,password743,password744,password745,password746,password747,password748,password749,password750,password751,password752,password753,password754,password755,password756,password757,password758,password759,password760,password761,password762,password763,password764,password765,password766,password767,password768,password769,password770,password771,password772,password773,password774,password775,password776,password777,password778,password779,password780,password781,password782,password783,password784,password785,password786,password787,password788,password789,password790,password791,password792,password793,password794,password795,password796,password797,password798,password799,password800,password801,password802,password803,password804,password805,password806,password807,password808,password809,password810,password811,password812,password813,password814,password815,password816,password817,password818,password819,password820,password821,password822,password823,password824,password825,password826,password827,password828,password829,password830,password831,password832,password833,password834,password835,password836,password837,password838,password839,password840,password841,password842,password843,password844,password845,password846,password847,password848,password849,password850,password851,password852,password853,password854,password855,password856,password857,password858,password859,password860,password861,password862,password863,password864,password865,password866,password867,password868,password869,password870,password871,password872,password873,password874,password875,password876,password877,password878,password879,password880,password881,password882,password883,password884,password885,password886,password887,password888,password889,password890,password891,password892,password893,password894,password895,password896,password897,password898,password899,password900,password901,password902,password903,password904,password905,password906,password907,password908,password909,password910,password911,password912,password913,password914,password915,password916,password917,password918,password919,password920,password921,password922,password923,password924,password925,password926,password927,password928,password929,password930,password931,password932,password933,password934,password935,password936,password937,password938,password939,password940,password941,password942,password943,password944,password945,password946,password947,password948,password949,password950,password951,password952,password953,password954,password955,password956,password957,password958,password959,password960,password961,password962,password963,password964,password965,password966,password967,password968,password969,password970,password971,password972,password973,password974,password975,password976,password977,password978,password979,password980,password981,password982,password983,password984,password985,password986,password987,password988,password989,password990,password991,password992,password993,password994,password995,password996,password997,password998,password999,password1000
      - LDAP_ENABLE_TLS=yes
      - LDAP_TLS_CERT_FILE=/opt/bitnami/openldap/etc/certs/server-cert.pem
      - LDAP_TLS_KEY_FILE=/opt/bitnami/openldap/etc/certs/server-key.pem
      - LDAP_TLS_CA_FILE=/opt/bitnami/openldap/etc/certs/openldapCA.crt
    volumes:
      - ./certs:/opt/bitnami/openldap/etc/certs:Z
      - 'openldap_data:/bitnami/openldap'

volumes:
  openldap_data:
    driver: local
